import{ab as u,r as t,J as g}from"./index.79538a5a.js";const k=u("location",()=>{const{supabase:l}=g(),o=t(),e=t(),n=t(),r=t(),c=t("");let s;return{latitude:o,longitude:e,accuracy:n,error:c,id_checks_in_view:r,startTracking:()=>{s=navigator.geolocation.watchPosition(a=>{o.value=a.coords.latitude,e.value=a.coords.longitude,n.value=a.coords.accuracy,c.value="",console.log("Updating location to lat: ",o.value,"lng: ",e.value)},a=>{c.value=a},{enableHighAccuracy:!0})},stopTracking:()=>{navigator.geolocation.clearWatch(s)},fetchIdChecks:async()=>{try{const{data:a,err:i}=await l.rpc("id_checks_in_view",{min_lat:35.35067387745531,min_long:-8.004458935143445,max_lat:64.16228690324682,max_long:64.40725560386426});if(i)throw i;r.value=a}catch(a){c.value=a.message,console.error(a.message)}}}});export{k as u};
