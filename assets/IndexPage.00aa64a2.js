import{Q as Ae}from"./QBanner.78959031.js";import{u as xe,a as Ne,d as W,b as ze,f as Le,Q as pe,c as z,s as ke}from"./QCard.fe40b167.js";import{Q as Qe,a as Be}from"./QLinearProgress.4d7ec58f.js";import{c as ue,u as _e,h as we,Q as J,g as Oe,o as De}from"./QIcon.602947ed.js";import{Q as Ce,a as Q}from"./selection.8d06eb55.js";import{Q as X,T as Fe,_ as be,a as Ue}from"./QList.1769cd54.js";import{d as ce,h as M,T as qe,ai as He,r as R,c as x,w as ae,u as $e,P as Ye,g as Ee,s as Ge,o as oe,p as Ve,ah as de,aj as Se,C as L,U as ne,F as w,E as S,V as A,M as he,N as Ke,G as $,H as q,_ as We,D as V,ak as Je,W as te,I as K,al as Xe,am as je}from"./index.8b400a08.js";import{u as Ze,b as et,f as tt,Q as at}from"./QDialog.824fde6b.js";import{u as ge}from"./uid.1fc1ff24.js";import{b as nt,u as Me,d as me}from"./profilesStore.85d76f58.js";import{Q as rt}from"./QPage.6740da39.js";import{_ as le}from"./ProfileNameComponent.73e831b6.js";var ot=ue({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(o,{slots:h,emit:f}){let l=!1,c,u,n=null,e=null,t,a;function r(){c&&c(),c=null,l=!1,n!==null&&(clearTimeout(n),n=null),e!==null&&(clearTimeout(e),e=null),u!==void 0&&u.removeEventListener("transitionend",t),t=null}function i(d,b,g){b!==void 0&&(d.style.height=`${b}px`),d.style.transition=`height ${o.duration}ms cubic-bezier(.25, .8, .50, 1)`,l=!0,c=g}function s(d,b){d.style.overflowY=null,d.style.height=null,d.style.transition=null,r(),b!==a&&f(b)}function v(d,b){let g=0;u=d,l===!0?(r(),g=d.offsetHeight===d.scrollHeight?0:void 0):(a="hide",d.style.overflowY="hidden"),i(d,g,b),n=setTimeout(()=>{n=null,d.style.height=`${d.scrollHeight}px`,t=E=>{e=null,(Object(E)!==E||E.target===d)&&s(d,"show")},d.addEventListener("transitionend",t),e=setTimeout(t,o.duration*1.1)},100)}function C(d,b){let g;u=d,l===!0?r():(a="show",d.style.overflowY="hidden",g=d.scrollHeight),i(d,g,b),n=setTimeout(()=>{n=null,d.style.height=0,t=E=>{e=null,(Object(E)!==E||E.target===d)&&s(d,"hide")},d.addEventListener("transitionend",t),e=setTimeout(t,o.duration*1.1)},100)}return ce(()=>{l===!0&&r()}),()=>M(qe,{css:!1,appear:o.appear,onEnter:v,onLeave:C},h.default)}});const B=He({}),it=Object.keys(_e);var st=ue({name:"QExpansionItem",props:{..._e,...Ze,...xe,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:Number,headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...et,"click","afterShow","afterHide"],setup(o,{slots:h,emit:f}){const{proxy:{$q:l}}=Ee(),c=Ne(o,l),u=R(o.modelValue!==null?o.modelValue:o.defaultOpened),n=R(null),e=ge(),{show:t,hide:a,toggle:r}=tt({showing:u});let i,s;const v=x(()=>`q-expansion-item q-item-type q-expansion-item--${u.value===!0?"expanded":"collapsed"} q-expansion-item--${o.popup===!0?"popup":"standard"}`),C=x(()=>{if(o.contentInsetLevel===void 0)return null;const m=l.lang.rtl===!0?"Right":"Left";return{["padding"+m]:o.contentInsetLevel*56+"px"}}),d=x(()=>o.disable!==!0&&(o.href!==void 0||o.to!==void 0&&o.to!==null&&o.to!=="")),b=x(()=>{const m={};return it.forEach(N=>{m[N]=o[N]}),m}),g=x(()=>d.value===!0||o.expandIconToggle!==!0),E=x(()=>o.expandedIcon!==void 0&&u.value===!0?o.expandedIcon:o.expandIcon||l.iconSet.expansionItem[o.denseToggle===!0?"denseIcon":"icon"]),P=x(()=>o.disable!==!0&&(d.value===!0||o.expandIconToggle===!0)),p=x(()=>({expanded:u.value===!0,detailsId:o.targetUid,toggle:r,show:t,hide:a})),T=x(()=>{const m=o.toggleAriaLabel!==void 0?o.toggleAriaLabel:l.lang.label[u.value===!0?"collapse":"expand"](o.label);return{role:"button","aria-expanded":u.value===!0?"true":"false","aria-controls":e,"aria-label":m}});ae(()=>o.group,m=>{s!==void 0&&s(),m!==void 0&&D()});function _(m){d.value!==!0&&r(m),f("click",m)}function I(m){m.keyCode===13&&y(m,!0)}function y(m,N){N!==!0&&n.value!==null&&n.value.focus(),r(m),Ge(m)}function k(){f("afterShow")}function G(){f("afterHide")}function D(){i===void 0&&(i=ge()),u.value===!0&&(B[o.group]=i);const m=ae(u,ee=>{ee===!0?B[o.group]=i:B[o.group]===i&&delete B[o.group]}),N=ae(()=>B[o.group],(ee,ye)=>{ye===i&&ee!==void 0&&ee!==i&&a()});s=()=>{m(),N(),B[o.group]===i&&delete B[o.group],s=void 0}}function j(){const m={class:[`q-focusable relative-position cursor-pointer${o.denseToggle===!0&&o.switchToggleSide===!0?" items-end":""}`,o.expandIconClass],side:o.switchToggleSide!==!0,avatar:o.switchToggleSide},N=[M(J,{class:"q-expansion-item__toggle-icon"+(o.expandedIcon===void 0&&u.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:E.value})];return P.value===!0&&(Object.assign(m,{tabindex:0,...T.value,onClick:y,onKeyup:I}),N.unshift(M("div",{ref:n,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),M(Q,m,()=>N)}function F(){let m;return h.header!==void 0?m=[].concat(h.header(p.value)):(m=[M(Q,()=>[M(X,{lines:o.labelLines},()=>o.label||""),o.caption?M(X,{lines:o.captionLines,caption:!0},()=>o.caption):null])],o.icon&&m[o.switchToggleSide===!0?"push":"unshift"](M(Q,{side:o.switchToggleSide===!0,avatar:o.switchToggleSide!==!0},()=>M(J,{name:o.icon})))),o.disable!==!0&&o.hideExpandIcon!==!0&&m[o.switchToggleSide===!0?"unshift":"push"](j()),m}function ie(){const m={ref:"item",style:o.headerStyle,class:o.headerClass,dark:c.value,disable:o.disable,dense:o.dense,insetLevel:o.headerInsetLevel};return g.value===!0&&(m.clickable=!0,m.onClick=_,Object.assign(m,d.value===!0?b.value:T.value)),M(Ce,m,F)}function Z(){return $e(M("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:C.value,id:e},we(h.default)),[[Ye,u.value]])}function Te(){const m=[ie(),M(ot,{duration:o.duration,onShow:k,onHide:G},Z)];return o.expandSeparator===!0&&m.push(M(W,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:c.value}),M(W,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:c.value})),m}return o.group!==void 0&&D(),ce(()=>{s!==void 0&&s()}),()=>M("div",{class:v.value},[M("div",{class:"q-expansion-item__container relative-position"},Te())])}});const U=40,se=20;var lt=ue({name:"QPullToRefresh",props:{color:String,bgColor:String,icon:String,noMouse:Boolean,disable:Boolean,scrollTarget:{default:void 0}},emits:["refresh"],setup(o,{slots:h,emit:f}){const{proxy:l}=Ee(),{$q:c}=l,u=R("pull"),n=R(0),e=R(!1),t=R(-U),a=R(!1),r=R({}),i=x(()=>({opacity:n.value,transform:`translateY(${t.value}px) rotate(${n.value*360}deg)`})),s=x(()=>"q-pull-to-refresh__puller row flex-center"+(a.value===!0?" q-pull-to-refresh__puller--animating":"")+(o.bgColor!==void 0?` bg-${o.bgColor}`:""));function v(_){if(_.isFinal===!0){e.value===!0&&(e.value=!1,u.value==="pulled"?(u.value="refreshing",p({pos:se}),b()):u.value==="pull"&&p({pos:-U,ratio:0}));return}if(a.value===!0||u.value==="refreshing")return!1;if(_.isFirst===!0){if(Le(E)!==0||_.direction!=="down")return e.value===!0&&(e.value=!1,u.value="pull",p({pos:-U,ratio:0})),!1;e.value=!0;const{top:k,left:G}=g.getBoundingClientRect();r.value={top:k+"px",left:G+"px",width:window.getComputedStyle(g).getPropertyValue("width")}}Ve(_.evt);const I=Math.min(140,Math.max(0,_.distance.y));t.value=I-U,n.value=nt(I/(se+U),0,1);const y=t.value>se?"pulled":"pull";u.value!==y&&(u.value=y)}const C=x(()=>{const _={down:!0};return o.noMouse!==!0&&(_.mouse=!0),[[Fe,v,void 0,_]]}),d=x(()=>`q-pull-to-refresh__content${e.value===!0?" no-pointer-events":""}`);function b(){f("refresh",()=>{p({pos:-U,ratio:0},()=>{u.value="pull"})})}let g,E,P=null;function p({pos:_,ratio:I},y){a.value=!0,t.value=_,I!==void 0&&(n.value=I),P!==null&&clearTimeout(P),P=setTimeout(()=>{P=null,a.value=!1,y&&y()},300)}function T(){E=ze(g,o.scrollTarget)}return ae(()=>o.scrollTarget,T),oe(()=>{g=l.$el,T()}),ce(()=>{P!==null&&clearTimeout(P)}),Object.assign(l,{trigger:b,updateScrollTarget:T}),()=>{const _=[M("div",{class:d.value},we(h.default)),M("div",{class:"q-pull-to-refresh__puller-container fixed row flex-center no-pointer-events z-top",style:r.value},[M("div",{class:s.value,style:i.value},[u.value!=="refreshing"?M(J,{name:o.icon||c.iconSet.pullToRefresh.icon,color:o.color,size:"32px"}):M(Oe,{size:"24px",color:o.color})])])];return De("div",{class:"q-pull-to-refresh"},_,"main",o.disable===!1,()=>C.value)}}});/*!
 * qrcode.vue v3.4.1
 * A Vue.js component to generate QRCode.
 * Â© 2017-2023 @scopewu(https://github.com/scopewu)
 * MIT License.
 */var re=function(){return re=Object.assign||function(h){for(var f,l=1,c=arguments.length;l<c;l++){f=arguments[l];for(var u in f)Object.prototype.hasOwnProperty.call(f,u)&&(h[u]=f[u])}return h},re.apply(this,arguments)};var O;(function(o){var h=function(){function n(e,t,a,r){if(this.version=e,this.errorCorrectionLevel=t,this.modules=[],this.isFunction=[],e<n.MIN_VERSION||e>n.MAX_VERSION)throw new RangeError("Version value out of range");if(r<-1||r>7)throw new RangeError("Mask value out of range");this.size=e*4+17;for(var i=[],s=0;s<this.size;s++)i.push(!1);for(var s=0;s<this.size;s++)this.modules.push(i.slice()),this.isFunction.push(i.slice());this.drawFunctionPatterns();var v=this.addEccAndInterleave(a);if(this.drawCodewords(v),r==-1)for(var C=1e9,s=0;s<8;s++){this.applyMask(s),this.drawFormatBits(s);var d=this.getPenaltyScore();d<C&&(r=s,C=d),this.applyMask(s)}c(0<=r&&r<=7),this.mask=r,this.applyMask(r),this.drawFormatBits(r),this.isFunction=[]}return n.encodeText=function(e,t){var a=o.QrSegment.makeSegments(e);return n.encodeSegments(a,t)},n.encodeBinary=function(e,t){var a=o.QrSegment.makeBytes(e);return n.encodeSegments([a],t)},n.encodeSegments=function(e,t,a,r,i,s){if(a===void 0&&(a=1),r===void 0&&(r=40),i===void 0&&(i=-1),s===void 0&&(s=!0),!(n.MIN_VERSION<=a&&a<=r&&r<=n.MAX_VERSION)||i<-1||i>7)throw new RangeError("Invalid value");var v,C;for(v=a;;v++){var d=n.getNumDataCodewords(v,t)*8,b=u.getTotalBits(e,v);if(b<=d){C=b;break}if(v>=r)throw new RangeError("Data too long")}for(var g=0,E=[n.Ecc.MEDIUM,n.Ecc.QUARTILE,n.Ecc.HIGH];g<E.length;g++){var P=E[g];s&&C<=n.getNumDataCodewords(v,P)*8&&(t=P)}for(var p=[],T=0,_=e;T<_.length;T++){var I=_[T];f(I.mode.modeBits,4,p),f(I.numChars,I.mode.numCharCountBits(v),p);for(var y=0,k=I.getData();y<k.length;y++){var G=k[y];p.push(G)}}c(p.length==C);var D=n.getNumDataCodewords(v,t)*8;c(p.length<=D),f(0,Math.min(4,D-p.length),p),f(0,(8-p.length%8)%8,p),c(p.length%8==0);for(var j=236;p.length<D;j^=253)f(j,8,p);for(var F=[];F.length*8<p.length;)F.push(0);return p.forEach(function(ie,Z){return F[Z>>>3]|=ie<<7-(Z&7)}),new n(v,t,F,i)},n.prototype.getModule=function(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]},n.prototype.getModules=function(){return this.modules},n.prototype.drawFunctionPatterns=function(){for(var e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2==0),this.setFunctionModule(e,6,e%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var t=this.getAlignmentPatternPositions(),a=t.length,e=0;e<a;e++)for(var r=0;r<a;r++)e==0&&r==0||e==0&&r==a-1||e==a-1&&r==0||this.drawAlignmentPattern(t[e],t[r]);this.drawFormatBits(0),this.drawVersion()},n.prototype.drawFormatBits=function(e){for(var t=this.errorCorrectionLevel.formatBits<<3|e,a=t,r=0;r<10;r++)a=a<<1^(a>>>9)*1335;var i=(t<<10|a)^21522;c(i>>>15==0);for(var r=0;r<=5;r++)this.setFunctionModule(8,r,l(i,r));this.setFunctionModule(8,7,l(i,6)),this.setFunctionModule(8,8,l(i,7)),this.setFunctionModule(7,8,l(i,8));for(var r=9;r<15;r++)this.setFunctionModule(14-r,8,l(i,r));for(var r=0;r<8;r++)this.setFunctionModule(this.size-1-r,8,l(i,r));for(var r=8;r<15;r++)this.setFunctionModule(8,this.size-15+r,l(i,r));this.setFunctionModule(8,this.size-8,!0)},n.prototype.drawVersion=function(){if(!(this.version<7)){for(var e=this.version,t=0;t<12;t++)e=e<<1^(e>>>11)*7973;var a=this.version<<12|e;c(a>>>18==0);for(var t=0;t<18;t++){var r=l(a,t),i=this.size-11+t%3,s=Math.floor(t/3);this.setFunctionModule(i,s,r),this.setFunctionModule(s,i,r)}}},n.prototype.drawFinderPattern=function(e,t){for(var a=-4;a<=4;a++)for(var r=-4;r<=4;r++){var i=Math.max(Math.abs(r),Math.abs(a)),s=e+r,v=t+a;0<=s&&s<this.size&&0<=v&&v<this.size&&this.setFunctionModule(s,v,i!=2&&i!=4)}},n.prototype.drawAlignmentPattern=function(e,t){for(var a=-2;a<=2;a++)for(var r=-2;r<=2;r++)this.setFunctionModule(e+r,t+a,Math.max(Math.abs(r),Math.abs(a))!=1)},n.prototype.setFunctionModule=function(e,t,a){this.modules[t][e]=a,this.isFunction[t][e]=!0},n.prototype.addEccAndInterleave=function(e){var t=this.version,a=this.errorCorrectionLevel;if(e.length!=n.getNumDataCodewords(t,a))throw new RangeError("Invalid argument");for(var r=n.NUM_ERROR_CORRECTION_BLOCKS[a.ordinal][t],i=n.ECC_CODEWORDS_PER_BLOCK[a.ordinal][t],s=Math.floor(n.getNumRawDataModules(t)/8),v=r-s%r,C=Math.floor(s/r),d=[],b=n.reedSolomonComputeDivisor(i),g=0,E=0;g<r;g++){var P=e.slice(E,E+C-i+(g<v?0:1));E+=P.length;var p=n.reedSolomonComputeRemainder(P,b);g<v&&P.push(0),d.push(P.concat(p))}for(var T=[],_=function(I){d.forEach(function(y,k){(I!=C-i||k>=v)&&T.push(y[I])})},g=0;g<d[0].length;g++)_(g);return c(T.length==s),T},n.prototype.drawCodewords=function(e){if(e.length!=Math.floor(n.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var t=0,a=this.size-1;a>=1;a-=2){a==6&&(a=5);for(var r=0;r<this.size;r++)for(var i=0;i<2;i++){var s=a-i,v=(a+1&2)==0,C=v?this.size-1-r:r;!this.isFunction[C][s]&&t<e.length*8&&(this.modules[C][s]=l(e[t>>>3],7-(t&7)),t++)}}c(t==e.length*8)},n.prototype.applyMask=function(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(var t=0;t<this.size;t++)for(var a=0;a<this.size;a++){var r=void 0;switch(e){case 0:r=(a+t)%2==0;break;case 1:r=t%2==0;break;case 2:r=a%3==0;break;case 3:r=(a+t)%3==0;break;case 4:r=(Math.floor(a/3)+Math.floor(t/2))%2==0;break;case 5:r=a*t%2+a*t%3==0;break;case 6:r=(a*t%2+a*t%3)%2==0;break;case 7:r=((a+t)%2+a*t%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[t][a]&&r&&(this.modules[t][a]=!this.modules[t][a])}},n.prototype.getPenaltyScore=function(){for(var e=0,t=0;t<this.size;t++){for(var a=!1,r=0,i=[0,0,0,0,0,0,0],s=0;s<this.size;s++)this.modules[t][s]==a?(r++,r==5?e+=n.PENALTY_N1:r>5&&e++):(this.finderPenaltyAddHistory(r,i),a||(e+=this.finderPenaltyCountPatterns(i)*n.PENALTY_N3),a=this.modules[t][s],r=1);e+=this.finderPenaltyTerminateAndCount(a,r,i)*n.PENALTY_N3}for(var s=0;s<this.size;s++){for(var a=!1,v=0,i=[0,0,0,0,0,0,0],t=0;t<this.size;t++)this.modules[t][s]==a?(v++,v==5?e+=n.PENALTY_N1:v>5&&e++):(this.finderPenaltyAddHistory(v,i),a||(e+=this.finderPenaltyCountPatterns(i)*n.PENALTY_N3),a=this.modules[t][s],v=1);e+=this.finderPenaltyTerminateAndCount(a,v,i)*n.PENALTY_N3}for(var t=0;t<this.size-1;t++)for(var s=0;s<this.size-1;s++){var C=this.modules[t][s];C==this.modules[t][s+1]&&C==this.modules[t+1][s]&&C==this.modules[t+1][s+1]&&(e+=n.PENALTY_N2)}for(var d=0,b=0,g=this.modules;b<g.length;b++){var E=g[b];d=E.reduce(function(T,_){return T+(_?1:0)},d)}var P=this.size*this.size,p=Math.ceil(Math.abs(d*20-P*10)/P)-1;return c(0<=p&&p<=9),e+=p*n.PENALTY_N4,c(0<=e&&e<=2568888),e},n.prototype.getAlignmentPatternPositions=function(){if(this.version==1)return[];for(var e=Math.floor(this.version/7)+2,t=this.version==32?26:Math.ceil((this.version*4+4)/(e*2-2))*2,a=[6],r=this.size-7;a.length<e;r-=t)a.splice(1,0,r);return a},n.getNumRawDataModules=function(e){if(e<n.MIN_VERSION||e>n.MAX_VERSION)throw new RangeError("Version number out of range");var t=(16*e+128)*e+64;if(e>=2){var a=Math.floor(e/7)+2;t-=(25*a-10)*a-55,e>=7&&(t-=36)}return c(208<=t&&t<=29648),t},n.getNumDataCodewords=function(e,t){return Math.floor(n.getNumRawDataModules(e)/8)-n.ECC_CODEWORDS_PER_BLOCK[t.ordinal][e]*n.NUM_ERROR_CORRECTION_BLOCKS[t.ordinal][e]},n.reedSolomonComputeDivisor=function(e){if(e<1||e>255)throw new RangeError("Degree out of range");for(var t=[],a=0;a<e-1;a++)t.push(0);t.push(1);for(var r=1,a=0;a<e;a++){for(var i=0;i<t.length;i++)t[i]=n.reedSolomonMultiply(t[i],r),i+1<t.length&&(t[i]^=t[i+1]);r=n.reedSolomonMultiply(r,2)}return t},n.reedSolomonComputeRemainder=function(e,t){for(var a=t.map(function(C){return 0}),r=function(C){var d=C^a.shift();a.push(0),t.forEach(function(b,g){return a[g]^=n.reedSolomonMultiply(b,d)})},i=0,s=e;i<s.length;i++){var v=s[i];r(v)}return a},n.reedSolomonMultiply=function(e,t){if(e>>>8!=0||t>>>8!=0)throw new RangeError("Byte out of range");for(var a=0,r=7;r>=0;r--)a=a<<1^(a>>>7)*285,a^=(t>>>r&1)*e;return c(a>>>8==0),a},n.prototype.finderPenaltyCountPatterns=function(e){var t=e[1];c(t<=this.size*3);var a=t>0&&e[2]==t&&e[3]==t*3&&e[4]==t&&e[5]==t;return(a&&e[0]>=t*4&&e[6]>=t?1:0)+(a&&e[6]>=t*4&&e[0]>=t?1:0)},n.prototype.finderPenaltyTerminateAndCount=function(e,t,a){return e&&(this.finderPenaltyAddHistory(t,a),t=0),t+=this.size,this.finderPenaltyAddHistory(t,a),this.finderPenaltyCountPatterns(a)},n.prototype.finderPenaltyAddHistory=function(e,t){t[0]==0&&(e+=this.size),t.pop(),t.unshift(e)},n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],n}();o.QrCode=h;function f(n,e,t){if(e<0||e>31||n>>>e!=0)throw new RangeError("Value out of range");for(var a=e-1;a>=0;a--)t.push(n>>>a&1)}function l(n,e){return(n>>>e&1)!=0}function c(n){if(!n)throw new Error("Assertion error")}var u=function(){function n(e,t,a){if(this.mode=e,this.numChars=t,this.bitData=a,t<0)throw new RangeError("Invalid argument");this.bitData=a.slice()}return n.makeBytes=function(e){for(var t=[],a=0,r=e;a<r.length;a++){var i=r[a];f(i,8,t)}return new n(n.Mode.BYTE,e.length,t)},n.makeNumeric=function(e){if(!n.isNumeric(e))throw new RangeError("String contains non-numeric characters");for(var t=[],a=0;a<e.length;){var r=Math.min(e.length-a,3);f(parseInt(e.substring(a,a+r),10),r*3+1,t),a+=r}return new n(n.Mode.NUMERIC,e.length,t)},n.makeAlphanumeric=function(e){if(!n.isAlphanumeric(e))throw new RangeError("String contains unencodable characters in alphanumeric mode");var t=[],a;for(a=0;a+2<=e.length;a+=2){var r=n.ALPHANUMERIC_CHARSET.indexOf(e.charAt(a))*45;r+=n.ALPHANUMERIC_CHARSET.indexOf(e.charAt(a+1)),f(r,11,t)}return a<e.length&&f(n.ALPHANUMERIC_CHARSET.indexOf(e.charAt(a)),6,t),new n(n.Mode.ALPHANUMERIC,e.length,t)},n.makeSegments=function(e){return e==""?[]:n.isNumeric(e)?[n.makeNumeric(e)]:n.isAlphanumeric(e)?[n.makeAlphanumeric(e)]:[n.makeBytes(n.toUtf8ByteArray(e))]},n.makeEci=function(e){var t=[];if(e<0)throw new RangeError("ECI assignment value out of range");if(e<1<<7)f(e,8,t);else if(e<1<<14)f(2,2,t),f(e,14,t);else if(e<1e6)f(6,3,t),f(e,21,t);else throw new RangeError("ECI assignment value out of range");return new n(n.Mode.ECI,0,t)},n.isNumeric=function(e){return n.NUMERIC_REGEX.test(e)},n.isAlphanumeric=function(e){return n.ALPHANUMERIC_REGEX.test(e)},n.prototype.getData=function(){return this.bitData.slice()},n.getTotalBits=function(e,t){for(var a=0,r=0,i=e;r<i.length;r++){var s=i[r],v=s.mode.numCharCountBits(t);if(s.numChars>=1<<v)return 1/0;a+=4+v+s.bitData.length}return a},n.toUtf8ByteArray=function(e){e=encodeURI(e);for(var t=[],a=0;a<e.length;a++)e.charAt(a)!="%"?t.push(e.charCodeAt(a)):(t.push(parseInt(e.substring(a+1,a+3),16)),a+=2);return t},n.NUMERIC_REGEX=/^[0-9]*$/,n.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,n.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",n}();o.QrSegment=u})(O||(O={}));(function(o){(function(h){var f=function(){function l(c,u){this.ordinal=c,this.formatBits=u}return l.LOW=new l(0,1),l.MEDIUM=new l(1,0),l.QUARTILE=new l(2,3),l.HIGH=new l(3,2),l}();h.Ecc=f})(o.QrCode||(o.QrCode={}))})(O||(O={}));(function(o){(function(h){var f=function(){function l(c,u){this.modeBits=c,this.numBitsCharCount=u}return l.prototype.numCharCountBits=function(c){return this.numBitsCharCount[Math.floor((c+7)/17)]},l.NUMERIC=new l(1,[10,12,14]),l.ALPHANUMERIC=new l(2,[9,11,13]),l.BYTE=new l(4,[8,16,16]),l.KANJI=new l(8,[8,10,12]),l.ECI=new l(7,[0,0,0]),l}();h.Mode=f})(o.QrSegment||(o.QrSegment={}))})(O||(O={}));var H=O,Ie="H",fe={L:H.QrCode.Ecc.LOW,M:H.QrCode.Ecc.MEDIUM,Q:H.QrCode.Ecc.QUARTILE,H:H.QrCode.Ecc.HIGH},ut=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function Re(o){return o in fe}function Pe(o,h){h===void 0&&(h=0);var f=[];return o.forEach(function(l,c){var u=null;l.forEach(function(n,e){if(!n&&u!==null){f.push("M".concat(u+h," ").concat(c+h,"h").concat(e-u,"v1H").concat(u+h,"z")),u=null;return}if(e===l.length-1){if(!n)return;u===null?f.push("M".concat(e+h,",").concat(c+h," h1v1H").concat(e+h,"z")):f.push("M".concat(u+h,",").concat(c+h," h").concat(e+1-u,"v1H").concat(u+h,"z"));return}n&&u===null&&(u=e)})}),f.join("")}var ve={value:{type:String,required:!0,default:""},size:{type:Number,default:100},level:{type:String,default:Ie,validator:function(o){return Re(o)}},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"},margin:{type:Number,required:!1,default:0}},ct=re(re({},ve),{renderAs:{type:String,required:!1,default:"canvas",validator:function(o){return["canvas","svg"].indexOf(o)>-1}}}),dt=de({name:"QRCodeSvg",props:ve,setup:function(o){var h=R(0),f=R(""),l=function(){var c=o.value,u=o.level,n=o.margin,e=H.QrCode.encodeText(c,fe[u]).getModules();h.value=e.length+n*2,f.value=Pe(e,n)};return l(),Se(l),function(){return M("svg",{width:o.size,height:o.size,"shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(h.value," ").concat(h.value)},[M("path",{fill:o.background,d:"M0,0 h".concat(h.value,"v").concat(h.value,"H0z")}),M("path",{fill:o.foreground,d:f.value})])}}}),ft=de({name:"QRCodeCanvas",props:ve,setup:function(o){var h=R(null),f=function(){var l=o.value,c=o.level,u=o.size,n=o.margin,e=o.background,t=o.foreground,a=h.value;if(!!a){var r=a.getContext("2d");if(!!r){var i=H.QrCode.encodeText(l,fe[c]).getModules(),s=i.length+n*2,v=window.devicePixelRatio||1,C=u/s*v;a.height=a.width=u*v,r.scale(C,C),r.fillStyle=e,r.fillRect(0,0,s,s),r.fillStyle=t,ut?r.fill(new Path2D(Pe(i,n))):i.forEach(function(d,b){d.forEach(function(g,E){g&&r.fillRect(E+n,b+n,1,1)})})}}};return oe(f),Se(f),function(){return M("canvas",{ref:h,style:{width:"".concat(o.size,"px"),height:"".concat(o.size,"px")}})}}}),vt=de({name:"Qrcode",render:function(){var o=this.$props,h=o.renderAs,f=o.value,l=o.size,c=o.margin,u=o.level,n=o.background,e=o.foreground,t=l>>>0,a=c>>>0,r=Re(u)?u:Ie;return M(h==="svg"?dt:ft,{value:f,size:t,margin:a,level:r,background:n,foreground:e})},props:ct});const ht=["src"],gt={__name:"LeaderboardComponent",setup(o,{expose:h}){const f=Me(),l=R([]),c=R(!1),u=R(null),n=R(!1);oe(()=>{e()});const e=async()=>{await f.waitUntilLoaded(),l.value=f.leaderboard()},t=()=>{n.value=!1,setTimeout(()=>n.value=!0,200)},a=r=>{!(r!=null&&r.avatar)||(u.value=r,c.value=!0)};return h({update:e,triggerAnimation:t}),(r,i)=>(L(),ne(he,null,[w(at,{modelValue:c.value,"onUpdate:modelValue":i[0]||(i[0]=s=>c.value=s),class:"flex flex-center"},{default:S(()=>[w(pe,{style:{"border-radius":"10px"}},{default:S(()=>[A("img",{src:u.value.avatar},null,8,ht)]),_:1})]),_:1},8,["modelValue"]),w(Ue,{dense:""},{default:S(()=>[(L(!0),ne(he,null,Ke(l.value,(s,v)=>(L(),ne("div",{key:v},[w(Ce,{class:"q-pb-none q-px-none",clickable:""},{default:S(()=>[w(Q,{side:""},{default:S(()=>[w(be,{src:s.avatar,size:"2rem",onClick:C=>a(s)},null,8,["src","onClick"])]),_:2},1024),w(Q,null,{default:S(()=>[w(X,null,{default:S(()=>[w(le,{profile:s,size_verified:"12px",size_badge:"15px"},null,8,["profile"])]),_:2},1024)]),_:2},1024),w(Q,{side:""},{default:S(()=>[$(q(s.score)+" Pts. ",1)]),_:2},1024)]),_:2},1024),w(Qe,{value:n.value?s.scorePercent:0,color:"blue-grey-7"},null,8,["value"])]))),128))]),_:1})],64))}};const Y=o=>(Xe("data-v-5440f0aa"),o=o(),je(),o),mt={class:"q-pa-md row items-start q-gutter-md"},pt=Y(()=>A("div",{class:"text-overline"},"Digitale J\xFCrgens ID ",-1)),_t={class:"text-h5 q-my-xs"},wt=Y(()=>A("div",{class:"text-caption text-grey-8"},"Mitgliedsnummer:",-1)),Ct={class:"text-subtitle1"},bt=Y(()=>A("div",{class:"text-caption text-grey"},[$(" Nachweis \xFCber die Mitgliedschaft im Verein "),A("b",null,'"St. J\xFCrgens am Strande"'),$(". Gegr\xFCndet am 10.10.2015 um 22:22 Uhr in Wolfenb\xFCttel. ")],-1)),Et={key:1,class:"text-caption text-grey q-mt-xs"},St=Y(()=>A("div",{class:"text-caption text-grey-8"},"Geburtsdatum:",-1)),Mt={class:"text-subtitle1 q-mb-xs"},It=Y(()=>A("div",{class:"text-caption text-grey-8"},"Ausstellungsdatum:",-1)),Rt={class:"text-subtitle1 q-mb-xs"},Pt=Y(()=>A("div",{class:"text-caption text-grey-8"},"Aktueller Rang:",-1)),Tt={class:"text-subtitle1"},yt={class:"text-caption text-grey-10"},At={__name:"IndexPage",setup(o){const{getScrollTarget:h,setVerticalScrollPosition:f}=ke,l=Me(),c=R(),u=R(null),n=R(),e=R(0),t=R(null),a=R(null),r=async p=>{p?await l.fetch():await l.fetchOnce(),c.value=l.getUser(),n.value=l.getUserQrData(),u.value.update(),i()},i=async()=>{e.value=1,await l.isIdChecked(c.value.id)?setTimeout(()=>e.value=2,400):setTimeout(()=>e.value=0,1e3)};oe(async()=>{await r(!1),setInterval(()=>{e.value==2&&i()},6e4),l.subscribeToNewIdChecks(c.value,()=>{e.value=1,r(!0),setTimeout(()=>e.value=2,2500)})});const s=async p=>{await r(!0),setTimeout(()=>p(),500)},v=()=>{const p=a.value.$el,T=h(p),_=p.offsetTop;setTimeout(()=>{f(T,_,450)},100),u.value.triggerAnimation()},C=["6rem","8rem","10rem"],d=C.length-1;let b=0,g=0;const E=R(C[b]),P=()=>{b=d-Math.abs(++g%(2*d)-d),E.value=C[b]};return(p,T)=>(L(),V(rt,{class:"flex flex-center"},{default:S(()=>[w(lt,{onRefresh:s,color:"blue-8"},{default:S(()=>[A("div",mt,[w(pe,{class:Je(e.value==2?"my-card-verified":"my-card")},{default:S(()=>[te(l).error?(L(),V(Ae,{key:0,"inline-actions":"",class:"text-white bg-red-5"},{default:S(()=>[$("Something went wrong...")]),_:1})):K("",!0),w(z,{horizontal:"",class:"justify-between"},{default:S(()=>[w(z,{class:"q-py-xs"},{default:S(()=>{var _;return[pt,A("div",_t,[w(le,{profile:c.value,size_verified:"16px",size_badge:"25px"},null,8,["profile"])]),wt,A("div",Ct,q((_=c.value)==null?void 0:_.membership_num),1)]}),_:1}),w(z,null,{default:S(()=>{var _,I;return[w(be,{ref_key:"profileAvatarComponentRef",ref:t,src:(_=c.value)==null?void 0:_.avatar,size:E.value,loading:((I=c.value)==null?void 0:I.avatar)===void 0,onClick:P},null,8,["src","size","loading"])]}),_:1})]),_:1}),w(z,{class:"q-py-xs"},{default:S(()=>{var _,I;return[bt,(_=c.value)!=null&&_.is_verified?(L(),V(W,{key:0})):K("",!0),(I=c.value)!=null&&I.is_verified?(L(),ne("div",Et,[A("b",null,[w(le,{profile:c.value,size_verified:"12px",size_badge:"14px"},null,8,["profile"])]),$(" ist Abonnent:in der digitalen J\xFCrgens ID. ")])):K("",!0)]}),_:1}),w(z,{horizontal:"",class:"justify-between items-end"},{default:S(()=>[w(z,{class:"q-pt-sm"},{default:S(()=>{var _,I,y;return[St,A("div",Mt,q(te(me).formatDate((_=c.value)==null?void 0:_.birthday,"DD.MM.YYYY")),1),It,A("div",Rt,q(te(me).formatDate((I=c.value)==null?void 0:I.date_of_issue,"DD.MM.YYYY")),1),Pt,A("div",Tt,q((y=c.value)==null?void 0:y.rank),1),A("div",yt,"Gesch\xE4ftsjahr "+q(te(l).general.get("fiscal_year")),1)]}),_:1}),w(z,{class:"q-mr-sm"},{default:S(()=>[e.value==1?(L(),V(Be,{key:0,indeterminate:"",size:"1.5rem",color:"positive"})):K("",!0),e.value==2?(L(),V(J,{key:1,name:"task_alt",size:"2rem",color:"positive"})):K("",!0)]),_:1})]),_:1}),w(W,{inset:"",color:e.value==2?"positive":"grey-5"},null,8,["color"]),w(z,{class:"flex flex-center"},{default:S(()=>[w(vt,{value:n.value,size:250,foreground:"#092635"},null,8,["value"])]),_:1}),w(W,{inset:"",color:e.value==2?"positive":"grey-5"},null,8,["color"]),w(st,{ref_key:"leaderboadExpansionItemRef",ref:a,onShow:v},{header:S(()=>[w(Q,{avatar:""},{default:S(()=>[w(J,{name:"query_stats",size:"24px"})]),_:1}),w(Q,null,{default:S(()=>[w(X,null,{default:S(()=>[$("J\xFCrgische Charts")]),_:1}),w(X,{caption:""})]),_:1})]),default:S(()=>[w(z,{class:"q-pt-sm"},{default:S(()=>[w(gt,{ref_key:"leaderboard",ref:u},null,512)]),_:1})]),_:1},512)]),_:1},8,["class"])])]),_:1})]),_:1}))}};var Ht=We(At,[["__scopeId","data-v-5440f0aa"]]);export{Ht as default};
